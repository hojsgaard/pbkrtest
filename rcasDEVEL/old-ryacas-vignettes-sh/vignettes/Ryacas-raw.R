### R code from vignette source 'Ryacas-raw.Rnw'
### Encoding: ISO8859-1

###################################################
### code chunk number 1: Ryacas-raw.Rnw:39-43
###################################################
rm(list=ls())
require( Ryacas )
prettyVersion <- packageDescription("Ryacas")$Version
prettyDate <- format(Sys.Date())


###################################################
### code chunk number 2: Ryacas-raw.Rnw:61-63
###################################################
library(Ryacas)
options(width=80)


###################################################
### code chunk number 3: Ryacas-raw.Rnw:117-119
###################################################
out <- yacas( "Expand( (1 + u)^4 )" ); out
class( out )


###################################################
### code chunk number 4: Ryacas-raw.Rnw:127-129
###################################################
PrettyForm( out )
TeXForm( out )


###################################################
### code chunk number 5: Ryacas-raw.Rnw:134-135
###################################################
yacas(TeXForm(out), retclass = "unquote")


###################################################
### code chunk number 6: Ryacas-raw.Rnw:145-148
###################################################
class( out )
names( out )
lapply( out, head )


###################################################
### code chunk number 7: Ryacas-raw.Rnw:154-155
###################################################
eval( out$text, list(u=1) )


###################################################
### code chunk number 8: Ryacas-raw.Rnw:161-162
###################################################
Eval( out, list(u=1) )


###################################################
### code chunk number 9: Ryacas-raw.Rnw:170-172
###################################################
e <- expression( Expand( (1 + u)^4 ) )
yacas( e )


###################################################
### code chunk number 10: Ryacas-raw.Rnw:178-180
###################################################
e <- expression( Expand((1+x-y)^2, x) )         ## This works
## e <- expression( Expand((1+x-y)^2, {x,y}) )  ## This fails


###################################################
### code chunk number 11: Ryacas-raw.Rnw:186-187
###################################################
yacas( "Expand((1+x-y)^2, {x,y})" )


###################################################
### code chunk number 12: Ryacas-raw.Rnw:197-198
###################################################
yacas("D(x)Sin(x)")


###################################################
### code chunk number 13: Ryacas-raw.Rnw:211-214
###################################################
x_ <- Sym("x")
x_
dput( x_ )


###################################################
### code chunk number 14: Ryacas-raw.Rnw:221-223
###################################################
x_ + 4
Eval(x_+4, list(x=1))


###################################################
### code chunk number 15: Ryacas-raw.Rnw:230-233
###################################################
x <- Sym("x")
Integrate(sin(x), x)
deriv(cos(x), x)


###################################################
### code chunk number 16: Ryacas-raw.Rnw:241-244
###################################################
yacas("(1+x)^3")
yacas("%")
yacas("z:= %")


###################################################
### code chunk number 17: Ryacas-raw.Rnw:248-251
###################################################
(1+x)^3
zs <- Sym("%")
zs


###################################################
### code chunk number 18: Ryacas-raw.Rnw:262-266
###################################################
yacas("n := 10")
yacas("n := n + n")
yacas("Set(z, Cos(a))")
yacas("z+z")


###################################################
### code chunk number 19: Ryacas-raw.Rnw:272-275
###################################################
yacas("n")
yacas("Clear(n, z)")
yacas("n")


###################################################
### code chunk number 20: Ryacas-raw.Rnw:280-281
###################################################
Set(m, 10)


###################################################
### code chunk number 21: Ryacas-raw.Rnw:290-291
###################################################
m <- Sym("m")


###################################################
### code chunk number 22: Ryacas-raw.Rnw:296-298
###################################################
Set(m, 123)
m^2


###################################################
### code chunk number 23: Ryacas-raw.Rnw:309-313
###################################################
yacas(expression( (1/2) / (4/5) ))
Sym("1/2") / Sym("4/5") ## WRONG RESULT
Sym("1/14 + 5/21 * (30 - 1 + 1/2)")
Sym("55/10")


###################################################
### code chunk number 24: Ryacas-raw.Rnw:322-326
###################################################
yacas("Exp(0)")
yacas("Exp(1)")
yacas("Sin(Pi/4)")
yacas("355/113")


###################################################
### code chunk number 25: Ryacas-raw.Rnw:330-334
###################################################
exp(Sym(0))
exp(Sym(1))
sin(Pi/4)
Sym("355/113")


###################################################
### code chunk number 26: Ryacas-raw.Rnw:343-350
###################################################
x <- Sym("55/10")
N( x )
Eval( N( x ) )
yacas("355/113")
N( yacas("355/113"), 8 )
N( "355/113", 8 )



###################################################
### code chunk number 27: Ryacas-raw.Rnw:358-363
###################################################
yacas("Precision(5)")
yacas("N(355/113)")
## Alternative
## Precision(5)
## N("355/113")


###################################################
### code chunk number 28: Ryacas-raw.Rnw:370-372
###################################################
x <- Sym("x")
N(sin(1)^2 + cos(x)^2)


###################################################
### code chunk number 29: Ryacas-raw.Rnw:402-404
###################################################
yacas("D(x) Sin(x)")
yacas("D(x, 2) Sin(x)")


###################################################
### code chunk number 30: Ryacas-raw.Rnw:408-410
###################################################
x <- Sym("x")
deriv(sin(x), x)


###################################################
### code chunk number 31: Ryacas-raw.Rnw:419-420
###################################################
yacas("Clear(a,b,A,B)")


###################################################
### code chunk number 32: Ryacas-raw.Rnw:424-425
###################################################
yacas("Integrate(x,a,b)Sin(x)")


###################################################
### code chunk number 33: Ryacas-raw.Rnw:429-431
###################################################
a <- Sym("a"); b <- Sym("b")
Integrate(sin(x), x, a, b)


###################################################
### code chunk number 34: Ryacas-raw.Rnw:439-441
###################################################
yacas("Expand( (1 + x)^3)" )
yacas("Factor( x^2 - 1 )" )


###################################################
### code chunk number 35: Ryacas-raw.Rnw:444-447
###################################################
xs <- Sym("xs")
Expand((1+xs)^3)
Factor(xs^2-1)


###################################################
### code chunk number 36: Ryacas-raw.Rnw:455-456
###################################################
yacas("texp := Taylor(x,0,3) Exp(x)")


###################################################
### code chunk number 37: Ryacas-raw.Rnw:460-462
###################################################
xs <- Sym("xs")
texp <- Taylor(exp(xs), xs, 0, 3)


###################################################
### code chunk number 38: Ryacas-raw.Rnw:469-471
###################################################
yacas("Taylor(x,0,3) Exp(x)")
yacas("Taylor(x,a,3) Exp(x)")


###################################################
### code chunk number 39: Ryacas-raw.Rnw:475-479
###################################################
xs <- Sym("xs")
Taylor(exp(xs),xs,0,3)
as <- Sym("as")
Taylor(exp(x),x,as,3)


###################################################
### code chunk number 40: Ryacas-raw.Rnw:491-493
###################################################
yacas("InverseTaylor(x,0,2)Exp(x)")
yacas("Taylor(y,1,2)Ln(y)")


###################################################
### code chunk number 41: Ryacas-raw.Rnw:497-500
###################################################
ys <- Sym("ys"); xs <- Sym("xs")
InverseTaylor(exp(xs),xs,0,2)
Taylor(log(ys),ys,1,2)


###################################################
### code chunk number 42: Ryacas-raw.Rnw:507-510
###################################################
yacas("40!")
yacas("40!", retclass = "character")
Factorial(40)


###################################################
### code chunk number 43: Ryacas-raw.Rnw:517-520
###################################################
yacas( "Limit(x,0) Sin(x)/x" )
yacas( "Limit(n,Infinity) (1+(1/n))^n" )
yacas( "Limit(h,0) (Sin(x+h)-Sin(x))/h" )


###################################################
### code chunk number 44: Ryacas-raw.Rnw:524-528
###################################################
x <- Sym("x"); n <- Sym("n"); h <- Sym("h")
Limit( sin(x) / x, x, 0)
Limit( (1 + (1 / n))^n, n, Infinity )
Limit( (sin(x + h) - sin(x) ) / h, h, 0)


###################################################
### code chunk number 45: Ryacas-raw.Rnw:537-540
###################################################
y <- Sym("y")
yacas("(x+y)^3-(x-y)^3")
yacas("Simplify(%)")


###################################################
### code chunk number 46: Ryacas-raw.Rnw:544-546
###################################################
(x+y)^3-(x-y)^3
Simplify("%")


###################################################
### code chunk number 47: Ryacas-raw.Rnw:558-563
###################################################
yacas("I")
yacas("I^2")
yacas("7+3*I")
yacas("Conjugate(%)")
yacas("Exp(3*I)")


###################################################
### code chunk number 48: Ryacas-raw.Rnw:567-572
###################################################
I
I^2
7+3*I
Conjugate("%")
exp(3*I)


###################################################
### code chunk number 49: Ryacas-raw.Rnw:576-579
###################################################
z <- 7+3*I
1/z
z*(1/z)


###################################################
### code chunk number 50: Ryacas-raw.Rnw:584-585
###################################################
exp(I*Pi)


###################################################
### code chunk number 51: Ryacas-raw.Rnw:594-596
###################################################
yacas("Solve(x/(1+x) == a, x)")
yacas("Solve(x^2+x == 0, x)")


###################################################
### code chunk number 52: Ryacas-raw.Rnw:599-601
###################################################
Solve(xs/(1+xs) == as, xs)
Solve(xs^2+xs == 0, xs)


###################################################
### code chunk number 53: Ryacas-raw.Rnw:604-605
###################################################
Solve(List(xs^2+ys^2==6, xs-ys==3), List(xs,ys))


###################################################
### code chunk number 54: Ryacas-raw.Rnw:608-612
###################################################
mu <- Sym("mu") # mean
v <- Sym("v") # variance
Solve(List(mu==(xs/(xs+ys)), v==((xs*ys)/(((xs+ys)^2) * (xs+ys+1)))),
    List(xs,ys))


###################################################
### code chunk number 55: Ryacas-raw.Rnw:622-623
###################################################
yacas("Newton(Sin(x)-Exp(x),x, 0.5, 0.0001)")


###################################################
### code chunk number 56: Ryacas-raw.Rnw:627-628
###################################################
Newton(sin(xs)-exp(xs),xs, 0.5, 0.0001)


###################################################
### code chunk number 57: Ryacas-raw.Rnw:636-638
###################################################
yacas("OdeSolve(y''==4*y)")
yacas("OdeSolve(y'==8*y)")


###################################################
### code chunk number 58: Ryacas-raw.Rnw:646-647
###################################################
PrettyPrinter()


###################################################
### code chunk number 59: Ryacas-raw.Rnw:652-659
###################################################
A <- yacas( "A:={{4,-2,4,2},{-2,10,-2,-7},{4,-2,8,4},{2,-7,4,7}}" )
PrettyForm(A) ## FIXME: SHOULD THIS WORK??
yacas("PrettyForm(A)")
R <- yacas("R := Cholesky(A)")
yacas("PrettyForm(R)")
yacas("RtR:=Transpose(R) * R")
yacas("PrettyForm(RtR)")


###################################################
### code chunk number 60: Ryacas-raw.Rnw:664-666
###################################################
yacas("M:={ {u1,u1,0},{u1,0,u2},{0,u2,0} }")
yacas("PrettyForm(M)")


###################################################
### code chunk number 61: Ryacas-raw.Rnw:670-673
###################################################
u1 <- Sym("u1"); u2 <- Sym("u2")
M <- List(List(u1, u1, 0), List(u1, 0, u2), List(0, u2, 0))
PrettyForm( M )


###################################################
### code chunk number 62: Ryacas-raw.Rnw:678-679
###################################################
yacas(TeXForm(M), retclass = "unquote")


###################################################
### code chunk number 63: Ryacas-raw.Rnw:686-689
###################################################
yacas("Mi:=Inverse( M )")
yacas("Simplify( Mi )")
yacas("PrettyForm(Simplify( Mi ))")


###################################################
### code chunk number 64: Ryacas-raw.Rnw:694-697
###################################################
Mi <- Inverse( M )
Simplify( Mi )
PrettyForm(Simplify( Mi ))


###################################################
### code chunk number 65: Ryacas-raw.Rnw:703-707
###################################################
yacas("Determinant( M )")
yacas("Determinant( Mi )") ## FIXME: Whats up here?
yacas("Simplify( Mi )")
yacas("Simplify(Determinant( Mi ))") ## FIXME: Whats up here?


###################################################
### code chunk number 66: Ryacas-raw.Rnw:712-716
###################################################
determinant( M )
determinant( Mi )
Simplify( Mi )
Simplify(determinant( Mi ))


###################################################
### code chunk number 67: Ryacas-raw.Rnw:729-731
###################################################
yacas("PrettyForm(texp)")
yacas("TeXForm(texp)", retclass = "unquote")


###################################################
### code chunk number 68: Ryacas-raw.Rnw:736-737
###################################################
yacas("TeXForm(texp)", retclass = "unquote")


###################################################
### code chunk number 69: Ryacas-raw.Rnw:742-744
###################################################
PrettyForm(texp)
TeXForm(texp)


###################################################
### code chunk number 70: Ryacas-raw.Rnw:754-758
###################################################
yacas("A:={{a,b},{c,d}}")
yacas("B:= (1+x)^2+k^3")
yacas("A")
yacas("B")


###################################################
### code chunk number 71: Ryacas-raw.Rnw:762-768
###################################################
as <- Sym("as"); bs <- Sym("bs"); cs <- Sym("cs"); ds <- Sym("ds")
A <- List(List(as,bs), List(cs,ds))
ks <- Sym("ks")
B <- (1+xs)^2+ks^3
A
B


###################################################
### code chunk number 72: Ryacas-raw.Rnw:775-777
###################################################
yacas("PrettyForm(A)")
yacas("PrettyForm(B)")


###################################################
### code chunk number 73: Ryacas-raw.Rnw:781-783
###################################################
PrettyForm(A)
PrettyForm(B)


###################################################
### code chunk number 74: Ryacas-raw.Rnw:792-793
###################################################
yacas("TeXForm(B)", retclass = "character")


###################################################
### code chunk number 75: Ryacas-raw.Rnw:804-805
###################################################
PrettyPrinter()


